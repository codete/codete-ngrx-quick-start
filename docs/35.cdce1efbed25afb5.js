"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[35],{57035:(as,D,o)=>{o.r(D),o.d(D,{SimpleTasksAppComponent:()=>K,SimpleTasksAppModule:()=>os});var t=o(42520),n=o(2613),p=o(18123),T=o(26110),d=o(66546),E=o(61038),A=o(93263),R=o(19624),h=o(43330),y=o(76629),U=o(322),I=o(19345),u=o(67299),B=o(99443),r=o(34299),W=o(22975),H=o(18631),F=o(11512),m=o(6081),v=o(43166),x=o(51897),j=o(93482),Z=o(19884),N=o(66899),c=o(50617);function G(s,a){if(1&s){const e=t.EpF();t.TgZ(0,"columns-container")(1,"column",2)(2,"mat-form-field"),t._UZ(3,"input",3),t.qZA()(),t.TgZ(4,"column",4)(5,"button",5),t.NdJ("click",function(){const i=t.CHM(e).$implicit;return t.oxw().remove(i)}),t.TgZ(6,"mat-icon"),t._uU(7," delete_forever "),t.qZA()()()()}if(2&s){const e=a.$implicit,_=a.index;t.xp6(3),t.s9C("value",_+1+". "+e.content),t.Q6J("disabled",!0),t.xp6(1),t.Q6J("width",50)}}const f="simpleTasks",$=(0,n.ZF)(f),J=(0,n.P1)($,s=>s.simpleTasks.map(a=>c.HL.from(a))),M=(0,n.PH)("[simple-tasks] INIT"),C=(0,n.PH)("[simple-tasks] FETCH_ALL_TASKS"),S=(0,n.PH)("[simple-tasks] FETCH_ALL_TASKS_SUCCESS",(0,n.Ky)()),b=(0,n.PH)("[simple-tasks] FETCH_ALL_TASKS_ERROR",(0,n.Ky)()),O=(0,n.PH)("[simple-tasks] ADD_TASK",(0,n.Ky)()),P=(0,n.PH)("[simple-tasks] ADD_TASK_SUCCESS",(0,n.Ky)()),w=(0,n.PH)("[simple-tasks] ADD_TASK_ERROR",(0,n.Ky)()),k=(0,n.PH)("[simple-tasks] DELETE_TASK",(0,n.Ky)()),g=(0,n.PH)("[simple-tasks] DELETE_TASK_SUCCESS",(0,n.Ky)()),z=(0,n.PH)("[simple-tasks] DELETE_TASK_ERROR",(0,n.Ky)()),Q=(0,n.PH)("[simple-tasks] REALTIME_CHANGES_SUBSCRIBE");(0,n.PH)("[simple-tasks] REALTIME_CHANGES_NEW_DATA",(0,n.Ky)());let X=(()=>{class s{constructor(e){this.store=e,this.$simpleTasks=this.store.select(J)}ngOnInit(){this.store.dispatch(M())}newTask(e){this.store.dispatch(O({task:c.HL.from(e.target.value)})),e.target.value=""}remove(e){this.store.dispatch(k({task:e}))}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(n.yh))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-simple-tasks"]],decls:11,vars:3,consts:[[4,"ngFor","ngForOf"],["matInput","","placeholder","Type your task and press 'ENTER'...",3,"keydown.enter"],["grow",""],["matInput","",3,"value","disabled"],[3,"width"],["mat-icon-button","",1,"delete",3,"click"]],template:function(e,_){1&e&&(t.TgZ(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),t._uU(3,"Simple tasks"),t.qZA(),t.TgZ(4,"mat-card-subtitle"),t._uU(5,"with realtime/socket syncing"),t.qZA()(),t.TgZ(6,"mat-card-content"),t.YNc(7,G,8,3,"columns-container",0),t.ALo(8,"async"),t.TgZ(9,"mat-form-field")(10,"input",1),t.NdJ("keydown.enter",function(i){return _.newTask(i)}),t.qZA()()()()),2&e&&(t.xp6(7),t.Q6J("ngForOf",t.lcZ(8,1,_.$simpleTasks)))},directives:[p.a8,p.dk,m.a_,m.bg,x.KE,U.lW,I.Hw,p.n5,p.$j,p.dn,u.sg,m.iB,j.Nt],pipes:[u.Ov],styles:[""]}),s})(),K=(()=>{class s{constructor(){}ngOnInit(){}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-simple-tasks-app"]],decls:1,vars:0,template:function(e,_){1&e&&t._UZ(0,"app-simple-tasks")},directives:[X],styles:["mat-form-field{width:100%}"]}),s})();const V=(0,n.Lq)({loggedUser:""}),ss=(0,n.Lq)({simpleTasks:[]},(0,n.on)(S,(s,{simpleTasks:a})=>Object.assign(Object.assign({},s),{simpleTasks:W.cloneDeep(a)})),(0,n.on)(P,(s,{task:a})=>Object.assign(Object.assign({},s),{simpleTasks:[...s.simpleTasks,a]})),(0,n.on)(g,(s,{task:a})=>Object.assign(Object.assign({},s),{simpleTasks:[...s.simpleTasks.filter(e=>e.id!==a.id)]})));let L=(()=>{class s{constructor(e){this.taskBar=e,this.ctrl=c.HL.ctrl}handleError(e){this.taskBar.open(null==e?void 0:e.message)}}return s.\u0275fac=function(e){return new(e||s)(t.LFG(N.ux))},s.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac}),s})(),ts=(()=>{class s{constructor(e,_){this.actions$=e,this.service=_,this.init=(0,r.GW)(()=>this.actions$.pipe((0,r.l4)(M),(0,T.w)(()=>(0,d.of)(C())))),this.fetchAllTasks=(0,r.GW)(()=>this.actions$.pipe((0,r.l4)(C),(0,T.w)(()=>this.service.ctrl.getAll().received.observable.pipe((0,E.U)(l=>S({simpleTasks:l.body.rawJson})),(0,A.K)(l=>(this.service.handleError(l),(0,d.of)(b({error:l})))))))),this.addTask=(0,r.GW)(()=>this.actions$.pipe((0,r.l4)(O),(0,T.w)(({task:l})=>this.service.ctrl.create(l).received.observable.pipe((0,E.U)(i=>P({task:i.body.rawJson})),(0,A.K)(i=>(this.service.handleError(i),(0,d.of)(w({error:i})))))))),this.deleteTask=(0,r.GW)(()=>this.actions$.pipe((0,r.l4)(k),(0,T.w)(({task:l})=>this.service.ctrl.deleteById(l.id).received.observable.pipe((0,E.U)(i=>g({task:i.body.rawJson})),(0,A.K)(i=>(this.service.handleError(i),(0,d.of)(z({error:i})))))))),this.realtimeChanges=(0,r.GW)(()=>this.actions$.pipe((0,r.l4)(Q),(0,R.z)(l=>Z.iQ.Realtime.Browser.listenChangesTableEntity(c.HL).pipe((0,h.b)(500),(0,y.z)(()=>this.service.ctrl.getAll().received.observable.pipe((0,E.U)(i=>i.body.rawJson))),(0,E.U)(i=>S({simpleTasks:i}))))))}}return s.\u0275fac=function(e){return new(e||s)(t.LFG(r.eX),t.LFG(L))},s.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac}),s})(),es=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({providers:[L],imports:[[u.ez,c.qX,v.u5,m.m0,n.Aw.forFeature(f,ss),r.sQ.forFeature([ts])]]}),s})();const ns=[{path:"",component:K}];let os=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({providers:[],imports:[[u.ez,c.qX,v.u5,m.m0,n.Aw.forRoot(V,{}),r.sQ.forRoot([]),H.Qi.forRoot(),F.FT.instrument({}),B.Bz.forChild(ns),es]]}),s})()}}]);
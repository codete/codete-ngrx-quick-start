"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[263],{82263:(F,g,s)=>{s.r(g),s.d(g,{CanvasSignatureAppComponent:()=>h,CanvasSignatureAppModule:()=>K});var n=s(42520),o=s(2613),c=s(18123),E=s(322),m=s(19345),u=s(67299),M=s(99443),l=s(34299),i=s(22975),O=s(18631),S=s(11512),_=s(50617);const v="canvas",d=(0,o.ZF)(v),T=(0,o.P1)(d,t=>t.batches),P=(0,o.P1)(d,t=>t.batches.length>0),U=(0,o.P1)(d,t=>t.stack.length>0),C=(0,o.PH)("[canvas] UNDO"),f=(0,o.PH)("[canvas] REDO"),A=(0,o.PH)("[canvas] CLEAR"),D=(0,o.PH)("[canvas] NEW_CANVAS_DATA_BATCH",(0,o.Ky)());let y=(()=>{class t{constructor(a){this.store=a,this.allData$=this.store.select(T),this.allowedToUndo$=this.store.select(P),this.allowedToRedo$=this.store.select(U)}onNewData(a){this.store.dispatch(D({batch:a}))}onClear(){this.store.dispatch(A())}undo(){this.store.dispatch(C())}redo(){this.store.dispatch(f())}ngOnInit(){}}return t.\u0275fac=function(a){return new(a||t)(n.Y36(o.yh))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-canvas-signature"]],decls:23,vars:9,consts:[[3,"batches","newBatchOfPixels"],["mat-raised-button","",3,"disabled","click"],["mat-button","",3,"click"]],template:function(a,r){1&a&&(n.TgZ(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),n._uU(3,"Canvas Signature"),n.qZA()(),n.TgZ(4,"mat-card-content")(5,"app-canvas-drawer",0),n.NdJ("newBatchOfPixels",function(W){return r.onNewData(W)}),n.ALo(6,"async"),n.qZA()(),n.TgZ(7,"mat-card-actions"),n._uU(8," \xa0 \xa0 "),n.TgZ(9,"button",1),n.NdJ("click",function(){return r.undo()}),n.ALo(10,"async"),n._uU(11," Undo "),n.TgZ(12,"mat-icon"),n._uU(13,"undo"),n.qZA()(),n.TgZ(14,"button",1),n.NdJ("click",function(){return r.redo()}),n.ALo(15,"async"),n._uU(16," Redo "),n.TgZ(17,"mat-icon"),n._uU(18,"redo"),n.qZA()(),n.TgZ(19,"button",2),n.NdJ("click",function(){return r.onClear()}),n._uU(20," Clear "),n.TgZ(21,"mat-icon"),n._uU(22,"clear"),n.qZA()()()()),2&a&&(n.xp6(5),n.Q6J("batches",n.lcZ(6,3,r.allData$)),n.xp6(4),n.Q6J("disabled",!n.lcZ(10,5,r.allowedToUndo$)),n.xp6(5),n.Q6J("disabled",!n.lcZ(15,7,r.allowedToRedo$)))},directives:[c.a8,c.dk,_.IA,E.lW,m.Hw,c.n5,c.dn,c.hq],pipes:[u.Ov],styles:["mat-card-content[_ngcontent-%COMP%]{margin-bottom:-45px}"]}),t})(),h=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(a){return new(a||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-canvas-signature-app"]],decls:1,vars:0,template:function(a,r){1&a&&n._UZ(0,"app-canvas-signature")},directives:[y],styles:[""]}),t})(),R=(()=>{class t{constructor(a){this.actions$=a}}return t.\u0275fac=function(a){return new(a||t)(n.LFG(l.eX))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac}),t})();const b=(0,o.Lq)({batches:[],stack:[]},(0,o.on)(D,(t,e)=>{const a=i.cloneDeep(t);return a.batches.push(i.cloneDeep(e.batch)),Object.assign(Object.assign({},t),a)}),(0,o.on)(C,t=>{const e=i.cloneDeep(t);return e.stack.push(e.batches.pop()),Object.assign(Object.assign({},t),e)}),(0,o.on)(f,t=>{const e=i.cloneDeep(t);return e.batches.push(e.stack.pop()),Object.assign(Object.assign({},t),e)}),(0,o.on)(A,t=>({batches:[],stack:[]})));let L=(()=>{class t{}return t.\u0275fac=function(a){return new(a||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[[u.ez,_.SH,_.qX,o.Aw.forFeature(v,b),l.sQ.forFeature([R])]]}),t})();const w=(0,o.Lq)({loggedUser:""}),I=[{path:"",component:h}];let K=(()=>{class t{}return t.\u0275fac=function(a){return new(a||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[[u.ez,L,o.Aw.forRoot(w,{}),l.sQ.forRoot([]),O.Qi.forRoot(),S.FT.instrument({}),M.Bz.forChild(I)]]}),t})()}}]);
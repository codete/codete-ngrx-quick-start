"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[983],{2983:(as,v,o)=>{o.r(v),o.d(v,{SimpleTasksAppComponent:()=>H,SimpleTasksAppModule:()=>os});var t=o(42520),c=o(91462),n=o(2613);const k="simpleTasks",U=(0,n.ZF)(k),O=(0,n.P1)(U,s=>s.simpleTasks.map(a=>c.HL.from(a))),h=(0,n.PH)("[simple-tasks] INIT"),C=(0,n.PH)("[simple-tasks] FETCH_ALL_TASKS"),A=(0,n.PH)("[simple-tasks] FETCH_ALL_TASKS_SUCCESS",(0,n.Ky)()),Z=(0,n.PH)("[simple-tasks] FETCH_ALL_TASKS_ERROR",(0,n.Ky)()),y=(0,n.PH)("[simple-tasks] ADD_TASK",(0,n.Ky)()),g=(0,n.PH)("[simple-tasks] ADD_TASK_SUCCESS",(0,n.Ky)()),I=(0,n.PH)("[simple-tasks] ADD_TASK_ERROR",(0,n.Ky)()),K=(0,n.PH)("[simple-tasks] DELETE_TASK",(0,n.Ky)()),L=(0,n.PH)("[simple-tasks] DELETE_TASK_SUCCESS",(0,n.Ky)()),M=(0,n.PH)("[simple-tasks] DELETE_TASK_ERROR",(0,n.Ky)()),R=(0,n.PH)("[simple-tasks] REALTIME_CHANGES_SUBSCRIBE");(0,n.PH)("[simple-tasks] REALTIME_CHANGES_NEW_DATA",(0,n.Ky)());var m=o(18123),S=o(67299),T=o(6081),x=o(51897),N=o(93482),P=o(322),B=o(19345);function G(s,a){if(1&s){const e=t.EpF();t.TgZ(0,"columns-container")(1,"column",2)(2,"mat-form-field"),t._UZ(3,"input",3),t.qZA()(),t.TgZ(4,"column",4)(5,"button",5),t.NdJ("click",function(){const i=t.CHM(e).$implicit;return t.oxw().remove(i)}),t.TgZ(6,"mat-icon"),t._uU(7," delete_forever "),t.qZA()()()()}if(2&s){const e=a.$implicit,p=a.index;t.xp6(3),t.s9C("value",p+1+". "+e.content),t.Q6J("disabled",!0),t.xp6(1),t.Q6J("width",50)}}let J=(()=>{class s{constructor(e){this.store=e,this.$simpleTasks=this.store.select(O),this.store.dispatch(h())}ngOnInit(){this.store.dispatch(R())}newTask(e){this.store.dispatch(y({task:c.HL.from(e.target.value)})),e.target.value=""}remove(e){this.store.dispatch(K({task:e}))}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(n.yh))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-simple-tasks"]],decls:11,vars:3,consts:[[4,"ngFor","ngForOf"],["matInput","","placeholder","Type your task and press 'ENTER'...",3,"keydown.enter"],["grow",""],["matInput","",3,"value","disabled"],[3,"width"],["mat-icon-button","",1,"delete",3,"click"]],template:function(e,p){1&e&&(t.TgZ(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),t._uU(3,"Simple tasks"),t.qZA(),t.TgZ(4,"mat-card-subtitle"),t._uU(5,"with realtime/socket syncing"),t.qZA()(),t.TgZ(6,"mat-card-content"),t.YNc(7,G,8,3,"columns-container",0),t.ALo(8,"async"),t.TgZ(9,"mat-form-field")(10,"input",1),t.NdJ("keydown.enter",function(i){return p.newTask(i)}),t.qZA()()()()),2&e&&(t.xp6(7),t.Q6J("ngForOf",t.lcZ(8,1,p.$simpleTasks)))},directives:[m.a8,m.dk,m.n5,m.$j,m.dn,S.sg,T.a_,T.bg,T.iB,x.KE,N.Nt,P.lW,B.Hw],pipes:[S.Ov],styles:[""]}),s})(),H=(()=>{class s{constructor(){}ngOnInit(){}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-simple-tasks-app"]],decls:1,vars:0,template:function(e,p){1&e&&t._UZ(0,"app-simple-tasks")},directives:[J],styles:["mat-form-field{width:100%}"]}),s})();var $=o(3248),r=o(34299),j=o(18631),W=o(11512),F=o(43166);const Q=(0,n.Lq)({loggedUser:""});var b=o(22975);const X=(0,n.Lq)({simpleTasks:[]},(0,n.on)(A,(s,{simpleTasks:a})=>Object.assign(Object.assign({},s),{simpleTasks:b.cloneDeep(a)})),(0,n.on)(g,(s,{task:a})=>Object.assign(Object.assign({},s),{simpleTasks:[...s.simpleTasks,a]})),(0,n.on)(L,(s,{task:a})=>Object.assign(Object.assign({},s),{simpleTasks:[...s.simpleTasks.filter(e=>e.id!==a.id)]})));var u=o(26110),E=o(66546),d=o(61038),f=o(93263),Y=o(19624),V=o(43330),q=o(76629),_=o(66899);let D=(()=>{class s{constructor(e){this.taskBar=e,this.ctrl=c.HL.ctrl}handleError(e){this.taskBar.open(null==e?void 0:e.message)}}return s.\u0275fac=function(e){return new(e||s)(t.LFG(_.ux))},s.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac}),s})();var ss=o(19884);let ts=(()=>{class s{constructor(e,p){this.actions$=e,this.service=p,this.init=(0,r.GW)(()=>this.actions$.pipe((0,r.l4)(h),(0,u.w)(()=>(0,E.of)(C())))),this.fetchAllTasks=(0,r.GW)(()=>this.actions$.pipe((0,r.l4)(C),(0,u.w)(()=>this.service.ctrl.getAll().received.observable.pipe((0,d.U)(l=>A({simpleTasks:l.body.rawJson})),(0,f.K)(l=>(this.service.handleError(l),(0,E.of)(Z({error:l})))))))),this.addTask=(0,r.GW)(()=>this.actions$.pipe((0,r.l4)(y),(0,u.w)(({task:l})=>this.service.ctrl.create(l).received.observable.pipe((0,d.U)(i=>g({task:i.body.rawJson})),(0,f.K)(i=>(this.service.handleError(i),(0,E.of)(I({error:i})))))))),this.deleteTask=(0,r.GW)(()=>this.actions$.pipe((0,r.l4)(K),(0,u.w)(({task:l})=>this.service.ctrl.deleteById(l.id).received.observable.pipe((0,d.U)(i=>L({task:i.body.rawJson})),(0,f.K)(i=>(this.service.handleError(i),(0,E.of)(M({error:i})))))))),this.realtimeChanges=(0,r.GW)(()=>this.actions$.pipe((0,r.l4)(R),(0,Y.z)(l=>ss.iQ.Realtime.Browser.listenChangesTableEntity(c.HL).pipe((0,V.b)(500),(0,q.z)(()=>this.service.ctrl.getAll().received.observable.pipe((0,d.U)(i=>i.body.rawJson))),(0,d.U)(i=>A({simpleTasks:i}))))))}}return s.\u0275fac=function(e){return new(e||s)(t.LFG(r.eX),t.LFG(D))},s.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac}),s})(),es=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({providers:[D],imports:[[S.ez,c.qX,F.u5,T.m0,n.Aw.forFeature(k,X),r.sQ.forFeature([ts])]]}),s})();const ns=[{path:"",component:H}];let os=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({providers:[],imports:[[S.ez,c.qX,F.u5,T.m0,n.Aw.forRoot(Q,{}),r.sQ.forRoot([]),j.Qi.forRoot(),W.FT.instrument({}),$.Bz.forChild(ns),es]]}),s})()}}]);
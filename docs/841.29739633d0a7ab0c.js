"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[841],{2841:($,g,o)=>{o.r(g),o.d(g,{CanvasSignatureAppComponent:()=>S,CanvasSignatureAppModule:()=>L});var t=o(5311),s=o(25803);const v="canvas",u=(0,s.ZF)(v),T=(0,s.P1)(u,n=>n.batches),y=(0,s.P1)(u,n=>n.batches.length>0),Z=(0,s.P1)(u,n=>n.stack.length>0),C=(0,s.PH)("[canvas] UNDO"),h=(0,s.PH)("[canvas] REDO"),m=(0,s.PH)("[canvas] CLEAR"),f=(0,s.PH)("[canvas] NEW_CANVAS_DATA_BATCH",(0,s.Ky)());var c=o(67710),b=o(80250),O=o(60634),U=o(31298),l=o(40789);let D=(()=>{class n{constructor(a){this.store=a,this.allData$=this.store.select(T),this.allowedToUndo$=this.store.select(y),this.allowedToRedo$=this.store.select(Z)}onNewData(a){this.store.dispatch(f({batch:a}))}onClear(){this.store.dispatch(m())}undo(){this.store.dispatch(C())}redo(){this.store.dispatch(h())}ngOnInit(){}}return n.\u0275fac=function(a){return new(a||n)(t.Y36(s.yh))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-canvas-signature"]],decls:23,vars:9,consts:[[3,"batches","newBatchOfPixels"],["mat-raised-button","",3,"disabled","click"],["mat-button","",3,"click"]],template:function(a,r){1&a&&(t.TgZ(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),t._uU(3,"Canvas Signature"),t.qZA()(),t.TgZ(4,"mat-card-content")(5,"app-canvas-drawer",0),t.NdJ("newBatchOfPixels",function(M){return r.onNewData(M)}),t.ALo(6,"async"),t.qZA()(),t.TgZ(7,"mat-card-actions"),t._uU(8," \xa0 \xa0 "),t.TgZ(9,"button",1),t.NdJ("click",function(){return r.undo()}),t.ALo(10,"async"),t._uU(11," Undo "),t.TgZ(12,"mat-icon"),t._uU(13,"undo"),t.qZA()(),t.TgZ(14,"button",1),t.NdJ("click",function(){return r.redo()}),t.ALo(15,"async"),t._uU(16," Redo "),t.TgZ(17,"mat-icon"),t._uU(18,"redo"),t.qZA()(),t.TgZ(19,"button",2),t.NdJ("click",function(){return r.onClear()}),t._uU(20," Clear "),t.TgZ(21,"mat-icon"),t._uU(22,"clear"),t.qZA()()()()),2&a&&(t.xp6(5),t.Q6J("batches",t.lcZ(6,3,r.allData$)),t.xp6(4),t.Q6J("disabled",!t.lcZ(10,5,r.allowedToUndo$)),t.xp6(5),t.Q6J("disabled",!t.lcZ(15,7,r.allowedToRedo$)))},directives:[c.a8,c.dk,c.n5,c.dn,b.I,c.hq,O.lW,U.Hw],pipes:[l.Ov],styles:["mat-card-content[_ngcontent-%COMP%]{margin-bottom:-45px}"]}),n})(),S=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(a){return new(a||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-canvas-signature-app"]],decls:1,vars:0,template:function(a,r){1&a&&t._UZ(0,"app-canvas-signature")},directives:[D],styles:[""]}),n})();var w=o(98087),A=o(66544),p=o(91086);let F=(()=>{class n{constructor(a){this.actions$=a}}return n.\u0275fac=function(a){return new(a||n)(t.LFG(p.eX))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();var i=o(52540);const R=(0,s.Lq)({batches:[],stack:[]},(0,s.on)(f,(n,e)=>{const a=i.cloneDeep(n);return a.batches.push(i.cloneDeep(e.batch)),Object.assign(Object.assign({},n),a)}),(0,s.on)(C,n=>{const e=i.cloneDeep(n);return e.stack.push(e.batches.pop()),Object.assign(Object.assign({},n),e)}),(0,s.on)(h,n=>{const e=i.cloneDeep(n);return e.batches.push(e.stack.pop()),Object.assign(Object.assign({},n),e)}),(0,s.on)(m,n=>({batches:[],stack:[]})));let P=(()=>{class n{}return n.\u0275fac=function(a){return new(a||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[l.ez,A.SH,A.qX,s.Aw.forFeature(v,R),p.sQ.forFeature([F])]]}),n})();var B=o(239),E=o(59701);const j=(0,s.Lq)({loggedUser:""}),H=[{path:"",component:S}];let L=(()=>{class n{}return n.\u0275fac=function(a){return new(a||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[l.ez,P,s.Aw.forRoot(j,{}),p.sQ.forRoot([]),B.Qi.forRoot(),E.FT.instrument({}),w.Bz.forChild(H)]]}),n})()}}]);